<div class="list" [hidden]="updateArticleClick">

  <input class="fields" placeholder="Search by name" [(ngModel)]="nametagToSearch" (ngModelChange)="emitFilter()">

  <!--List of articles-->
  <div *ngIf="articlesInPage.length; else articleListEmpty">
    <table class="tbl">
      <tr>
        <th>Name</th>
        <th>Price</th>
        <th (click)="sortArticleByStock()">In stock <a [hidden]="sortIncreasingArticleStock">↑</a><a [hidden]="!sortIncreasingArticleStock">↓</a></th>
        <th>Delete</th>
      </tr>
      <tr *ngFor="let article of articlesDisplayed">
        <td (click)="clickUpdateArticle(article)">{{article.nametag}}</td>
        <td (click)="clickUpdateArticle(article)">{{article.price}}</td>
        <td (click)="clickUpdateArticle(article)">{{article.stock}}</td>
        <td><button (click)="emitDelete(article)">X</button></td>
      </tr>
    </table>

    <!--Page selector-->
    <div>
      <button *ngFor="let page of createPageNumberRange()" (click)="rangeDisplayed=page; changeDisplayedRange()">{{page}}</button>
    </div>
  </div>

  <!-- Will be displayed if articles list is empty-->
  <ng-template #articleListEmpty>
    <p [hidden]="searchingByName">You don't have any article. Register a new article.</p>
    <p [hidden]="!searchingByName">There is no article matching your search.</p>
  </ng-template>
</div>

<button [hidden]="!updateArticleClick" (click)="clickBackToList()" id="btnBackToList">Go back</button>
<app-admin-update-article [hidden]="!updateArticleClick" [id]="idToUpdate" [nametag]="nametagToUpdate" [price]="priceToUpdate" [pricingType]="pricingTypeToUpdate"
                          [stock]="stockToUpdate" [idcategory]="idCategoryToUpdate" [idbrand]="idBrandToUpdate" (articleUpdated)="emitUpdate($event)"
                          [listOfCategories]="listOfCategories" [listOfBrands]="listOfBrands"></app-admin-update-article>
